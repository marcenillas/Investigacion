<!doctype html>
<html lang="en" class="h-100" data-bs-theme="auto">

<head>
	<script src="../assets/js/color-modes.js"></script>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<title>Totem (main)</title>

	<link href="https://getbootstrap.com/docs/5.3/examples/cover/" rel="canonical">
	<link href="https://cdn.jsdelivr.net/npm/@docsearch/css@3" rel="stylesheet">
	<link href="../../node_modules/sweetalert2/dist/sweetalert2.min.css" rel="stylesheet">
	<link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="../styles.css" rel="stylesheet">
	<link href="index.css" rel="stylesheet">

	<script src="../../node_modules/sweetalert2/dist/sweetalert2.all.min.js"></script>
	<script src="../../js/app.js"></script>
	<script src="../../js/renderer.js"></script>
	<script>

		window.onload = function () {
			const queryString = window.location.search;
			const urlParams = new URLSearchParams(queryString);
			let load = true;
			let dataParam;
			let dataObject;
			if (queryString != "") {
				 dataParam = urlParams.get('data');
				 dataObject = JSON.parse(decodeURIComponent(dataParam));
				
				if (dataObject.op == 'ok') {
					load = true;

				}
				else {
					load = false
				}
			}
			if (load) {
				const imgPaths = getimagecarruselData();
				const carouselInner = document.querySelector('.carousel-inner');

				imgPaths.forEach((path, index) => {
					const divItem = document.createElement('div');
					divItem.classList.add('carousel-item');
					if (index === 0) {
						divItem.classList.add('active'); // La primera imagen es activa
					}

					const img = document.createElement('img');
					img.src = path;
					img.classList.add('carousel-image');

					divItem.appendChild(img);
					carouselInner.appendChild(divItem);
				});
			}
			else {
				window.location.href = '../00-exception/index.html?ex=' + dataObject.code;
			}

		}
		setInterval(() => {			
			loadTime();
			validateStatus(false);
		}, 5000);



		redirectToMaintenancePage();
		redirectToOperatorPage();


	</script>
</head>

<body>
	<div class="container-fluid">
		<div class="container-custom">
			<img src="../assets/img/logomp.png" alt="Logo Mercado Pago" class="logo-mp">
			<div class="container-int">
				<span class="title-custom">Sistema de Compra de Cr√©ditos de Mercado Pago</span>				
				<div id="mainCarousel" class="carousel slide mb-6" data-bs-ride="carousel">
					<div class="carousel-inner">					
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel"
						data-bs-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="visually-hidden">Previous</span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#mainCarousel"
						data-bs-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="visually-hidden">Next</span>
					</button>
				</div>
			</div>		
			<button class="button-ok" onclick="getNextStep()">Ingresar</button>			
		</div>

		<footer class="mt-auto text-white-50">
			<div class="container">
				<div class="row">
					<div class="col-md-2 text-start mt-2">
						<img src="../assets/img/logocompany.png" alt="empresa" class="logo-footer">
					</div>
					<div class="col-md-8 text-center mt-8">
						<p class="description-custom">Totem - Todos los derechos reservados.</p>
						<!-- <button class="btn-operador text-center" onclick="ActionOperador(1 , '../00-operator/index.html')">Operador</button>-->
					</div>
				
					<div class="col-md-2 text-end mt-2">
						<img src="../assets/img/logobranch.png" alt="sala" class="logo-footer">
					</div>

				</div>
			</div>
		</footer>

	</div>

	
	<script src="../assets/dist/js/bootstrap.bundle.min.js"></script>

</body>

</html>